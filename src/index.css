@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body,
#root {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

body {
  font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
    sans-serif;
  -webkit-font-smoothing: antialiased;
  background: #f8fafc;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  transition: background-color 0.2s ease;
}

.dark body,
html.dark body {
  background: #111827;
}

.pb-safe {
  padding-bottom: max(0.5rem, env(safe-area-inset-bottom));
}

::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-track {
  background: #f1f5f9;
}
::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

.dark ::-webkit-scrollbar-track {
  background: #1f2937;
}
.dark ::-webkit-scrollbar-thumb {
  background: #4b5563;
}
.dark ::-webkit-scrollbar-thumb:hover {
  background: #6b7280;
}

* {
  -webkit-tap-highlight-color: transparent;
}
button,
a {
  touch-action: manipulation;
}

.leaflet-container {
  height: 100% !important;
  width: 100% !important;
  z-index: 1;
}
.map-container {
  height: 100%;
  position: relative;
  width: 100%;
}
.leaflet-routing-container {
  display: none !important;
}

/* Dark mode for Leaflet popup */
.dark .leaflet-popup-content-wrapper,
.dark .leaflet-popup-tip {
  background-color: #1f2937;
  color: #f3f4f6;
}

.location-card {
  @apply bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm hover:shadow-md transition-all border border-gray-100 dark:border-gray-700;
}

.marker-popup {
  @apply text-sm;
}
.marker-popup h3 {
  @apply font-bold text-base mb-1 dark:text-gray-100;
}
.marker-popup p {
  @apply text-gray-600 dark:text-gray-300 text-xs mb-1;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

#qr-reader video {
  border-radius: 1rem;
}
#qr-reader__scan_region {
  background: transparent !important;
}

/* Bottom Sheet Styles */
.bottom-sheet-backdrop {
  @apply fixed inset-0 bg-black/30 z-[1999] transition-opacity;
}

/* Prevent body scroll when bottom sheet is open */
.bottom-sheet-open {
  overflow: hidden;
}

/* Better touch scrolling for bottom sheet content */
.bottom-sheet-content {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Ensure routing machine markers don't override our custom markers */
.leaflet-marker-icon.leaflet-routing-icon {
  display: none !important;
}

@media (max-width: 768px) {
  input,
  select,
  textarea {
    font-size: 16px !important;
  }
}
